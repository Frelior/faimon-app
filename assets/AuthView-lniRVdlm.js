import{e as h,C as g,k as l,c as i,a,u as d,D as p,A as m,h as y,E as c,t as v,G as V,H as k,o as f,I as E,_ as x}from"./index-D4KDGZp8.js";const A={class:"view-container auth-view"},C=["disabled"],D={key:0,class:"error"},B=h({__name:"AuthView",setup(I){const{loadUser:w}=g(),_=k(),r=l(""),u=l(""),o=l(!1),s=l(null);async function b(){s.value=null,o.value=!0;const{error:n}=await E.auth.signInWithPassword({email:r.value,password:u.value});if(o.value=!1,n){s.value=n.message,alert(s.value);return}await w(),_.push({name:"admin"})}return(n,e)=>(f(),i("div",A,[a("button",{class:"btn",onClick:e[0]||(e[0]=(...t)=>d(p)&&d(p)(...t))},"Войти с помощью Discord"),a("form",{onSubmit:V(b,["prevent"])},[e[3]||(e[3]=a("p",null,"Вход через почту",-1)),m(a("input",{"onUpdate:modelValue":e[1]||(e[1]=t=>r.value=t),type:"email",placeholder:"Email",autocomplete:"email",required:""},null,512),[[c,r.value]]),m(a("input",{"onUpdate:modelValue":e[2]||(e[2]=t=>u.value=t),type:"password",placeholder:"Пароль",autocomplete:"current-password",required:""},null,512),[[c,u.value]]),a("button",{type:"submit",disabled:o.value,class:"btn"},v(o.value?"Входим…":"Войти"),9,C),s.value?(f(),i("p",D,v(s.value),1)):y("",!0)],32)]))}}),q=x(B,[["__scopeId","data-v-3b75d4e6"]]);export{q as default};
